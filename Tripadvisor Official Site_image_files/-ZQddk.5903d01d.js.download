(this.$WP=this.$WP||[]).push(["-ZQddk",(e,r)=>{"use strict";var n,t,o,u,a,c,i,s,l,d,h,v,m,f,g,T,S,p,y=()=>null!=v&&v.matches?"DARK":"LIGHT",I=e=>null==v?void 0:v.removeEventListener("change",e),O={__key:0x5d38d9a2ef9c,id:"5d38d9a2ef9c32d279740ba2bd4b3201",loc:{},definitions:[]},b=()=>m,x=(e=!0)=>{var r=i(O);return[m,n.useCallback((e=>r({themeStore:e})),[r])]},P={};function A(e){return new Promise((function(r,n){e.oncomplete=e.onsuccess=function(){return r(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function k(e,r){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(r)};var t=A(n);return function(e,n){return t.then((function(t){return n(t.transaction(r,e).objectStore(r))}))}}function w(){return f||(f=k("keyval-store","keyval")),f}function C(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w();return r("readonly",(function(r){return A(r.get(e))}))}function D(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w();return n("readwrite",(function(n){return n.put(r,e),A(n.transaction)}))}function L(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w();return r("readwrite",(function(r){return e.forEach((function(e){return r.put(e[1],e[0])})),A(r.transaction)}))}function E(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w();return r("readonly",(function(r){return Promise.all(e.map((function(e){return A(r.get(e))})))}))}function B(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w();return n("readwrite",(function(n){return new Promise((function(t,o){n.get(e).onsuccess=function(){try{n.put(r(this.result),e),t(A(n.transaction))}catch(e){o(e)}}}))}))}function R(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w();return r("readwrite",(function(r){return r.delete(e),A(r.transaction)}))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return e("readwrite",(function(e){return e.clear(),A(e.transaction)}))}function H(e,r){return e("readonly",(function(e){return e.openCursor().onsuccess=function(){this.result&&(r(this.result),this.result.continue())},A(e.transaction)}))}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),r=[];return H(e,(function(e){return r.push(e.key)})).then((function(){return r}))}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),r=[];return H(e,(function(e){return r.push(e.value)})).then((function(){return r}))}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),r=[];return H(e,(function(e){return r.push([e.key,e.value])})).then((function(){return r}))}var U="theme",F=()=>g(U).then((e=>{if(null!=e&&"object"==typeof e&&null!=e.theme&&null!=e.themePreferenceOrAuto){var{theme:r,themePreferenceOrAuto:n}=e;return{theme:r,themePreferenceOrAuto:n}}})).catch((e=>{console.error("Error getting theme from IndexedDB",e)})),W="dark_mode_on_web_v2_1638372457",N=()=>{var{locale:e}=n.useContext(o),r="en"===e.language,t=s({experimentKeys:[W],skipImpression:!r}),u="test"===(null==t?void 0:t[W])&&r;return{enableTheming:u||!1,canChangeThemes:u}},K="themeChanged",V=e=>null!=e?t[e]:void 0,J=()=>n.useContext(p),Q=({initialThemeStore:e,children:r})=>{var o,i,s,d,{canChangeThemes:h,enableTheming:m}=S(),[f,g]=x(m),[O,b]=n.useState(null!=(o=null==(i=null!=e?e:f)?void 0:i.theme)?o:"LIGHT"),[P,A]=n.useState(null!=(s=null==(d=null!=e?e:f)?void 0:d.themePreferenceOrAuto)?s:"AUTO"),k=n.useRef((()=>{}));n.useEffect((()=>()=>I(k.current)),[]);var w=n.useCallback(((e,r)=>{var n=m?e:"LIGHT";A(n);var o=document.body;if(null!=o){var u=V(n);o.classList.remove(...Object.values(t).map(String)),null!=u&&o.classList.add(u)}!1!==(null==r?void 0:r.syncToTabs)&&(window.localStorage.setItem(K,n),window.localStorage.removeItem(K));var a,c=e=>{b(e);var t={theme:e,themePreferenceOrAuto:n};!1!==(null==r?void 0:r.saveToService)&&g(t),!1!==(null==r?void 0:r.saveToIndexedDB)&&(e=>{T(U,e).catch((e=>console.error("Error saving theme to IndexedDB",e)))})(t)};"AUTO"===n?(c(y()),I(k.current),k.current=()=>{c(y())},a=k.current,null==v||v.addEventListener("change",a)):(c(n),I(k.current))}),[g,m]),{serviceWorker:C}=n.useContext(u);n.useEffect((()=>{null!=e?w(e.themePreferenceOrAuto,C?{saveToIndexedDB:!1}:{saveToService:!1}):C?w("AUTO",{saveToIndexedDB:!1,saveToService:!1}):F().then((e=>{null!=e?w(e.themePreferenceOrAuto,{saveToIndexedDB:!1}):w("AUTO",{saveToIndexedDB:!1,saveToService:!1})}))}),[w,C,e]),c("storage",(e=>{var r=e;r.key===K&&null!=r.newValue&&w(r.newValue,{saveToService:!1,saveToIndexedDB:!1,syncToTabs:!1})}));var D=a();n.useEffect((()=>{m&&D({itemType:"theme",customData:JSON.stringify({theme:O})})}),[m,D,O]);var L=n.useMemo((()=>m?{theme:O,themePreferenceOrAuto:P,canChangeThemes:h,setTheme:w}:{theme:"LIGHT",themePreferenceOrAuto:"LIGHT",canChangeThemes:!1,setTheme:()=>{}}),[O,P,m,h,w]);return l(p.Provider,{value:L,children:r})},$=({lightSrc:e,darkSrc:r,alt:t,...u})=>{var{cdnPrefix:a}=n.useContext(o),{themePreferenceOrAuto:c}=J(),i=e=>{if(""!==a)try{return new URL(e,a).href}catch(e){}return e};return d("picture",{children:["AUTO"===c&&e!==r&&d(h,{children:[l("source",{srcSet:i(r),media:"(prefers-color-scheme: dark)"}),l("source",{srcSet:i(e)})]}),l("img",{...u,src:i("DARK"===c?r:e),alt:t})]})};return[()=>{v=null==globalThis.matchMedia?void 0:globalThis.matchMedia("(prefers-color-scheme: dark)"),Object.defineProperty(P,"__esModule",{value:!0}),P.clear=_,P.createStore=k,P.del=R,P.entries=M,g=P.get=C,P.getMany=E,P.keys=j,P.promisifyRequest=A,T=P.set=D,P.setMany=L,P.update=B,P.values=G,S=N,p=n.createContext({theme:"LIGHT",themePreferenceOrAuto:"LIGHT",canChangeThemes:!1,setTheme:()=>{}}),e({ThemeProvider:Q,ThemedImage:$,getBodyElementClassName:V,getInitialThemeStoreForServerSideRenderer:b,getInitialThemeStoreForServiceWorkerRenderer:F,useTheme:J})},[e=>n=e.default,e=>t=e.themeClassNames,e=>(o=e.Environment,u=e.Debug),e=>a=e.useImpressionV3Logger,e=>c=e.useWindow,e=>i=e.useStatelessMutation,e=>s=e.default,e=>(l=e.jsx,d=e.jsxs,h=e.Fragment)]]},["cDcdfi","RH7wJe","2R4xv2","30t50h","Dg5_-9","OnmvvE","S-RL4Q","F5FCuN"]]);
