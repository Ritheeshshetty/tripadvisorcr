(this.$WP=this.$WP||[]).push(["06lnvq",(s,t)=>{"use strict";var e,r,a,o,i,n,p,h;return[()=>{h=a.component.onUsage((()=>t("06lnvq/ds1rHN")),"default"),s("GeoPillSponsor$1",p=class extends e.Component{constructor(s){super(s),this.updateSponsorData=s=>{this.state.listeners.forEach((t=>t(s))),this.setState({listeners:[],sponsorData:s})},this.onMessage=s=>{if("whereToSponsor"===(null==s?void 0:s.cpmMessageType)&&!this.state.sponsorData){var{sponsorName:t,sponsorParentGeoName:e,pinGeoId:r,clickTracker:a,thirdPartyClickTrackerURL:o,impressionTrackerURL:i}=s;this.updateSponsorData({name:t,location_id:r,ancestors:(e||"").split(",").map((s=>s.trim())),dfpTrackingUrl:a,thirdPartyClickTrackerURL:o}),this.setState({impressionTrackerURL:i})}},this.fetchAds=()=>{this.state.dfpRequested||(this.setState({dfpRequested:!0}),this.setState({loadAd:!0}))},this.sponsorDataProvider=s=>{this.state.sponsorData?"function"==typeof s&&s(this.state.sponsorData):(this.fetchAds(),"function"==typeof s&&this.state.listeners.push(s))},this.getSponsorData=()=>this.state.sponsorData,this.state={dfpRequested:!1,loadAd:!1,listeners:[],impressionTrackerURL:"",sponsorData:null}}render(){var{loadAd:s}=this.state,{children:t,adAreaId:e}=this.props,a={sponsorDataProvider:this.sponsorDataProvider,getSponsorData:this.getSponsorData};return o(i,{children:[o(i,{children:[s&&n(h,{position:e,onMessage:this.onMessage}),this.state.impressionTrackerURL&&n(r,{title:"Third Party iframe",src:this.state.impressionTrackerURL})]}),t(a)]})}}),s("GeoPillSponsor",p)},[s=>e=s.default,s=>r=s.Pixel,s=>a=s,s=>(o=s.jsxs,i=s.Fragment,n=s.jsx)]]},["cDcdfi","m5ZZFI","pLbCP4","F5FCuN"]]);
