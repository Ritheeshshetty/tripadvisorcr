(this.$WP=this.$WP||[]).push(["ABlMo4",(e,l)=>{"use strict";var t,a,i,n,r,o,s,u,d,c,T,h,I,g,p,y,R,O,E,S,m,_,A,f,N="0123456789ABCDEF",L=()=>{var e=t("");if(""===e.current){var l=Array(32).fill(0).map((()=>N[Math.floor(Math.random()*N.length)])).join("");e.current=`${l}${String(Date.now())}ssid`}return e.current},C=(e,l,t,r,s,u,d)=>{var[T]=a(o),{page:h}=T,[I,g]=i(""),[p,y]=i(r),R=c(),O=null!=s.geoId&&s.geoId>1?s.geoId:1,E=n((()=>{y(r);var l=String(Date.now());g(l),R({Typeahead:{startEvent:{typeaheadId:l,searchSessionId:e,uiOrigin:t,scope:String(O),page:h,beforeQuery:r,afterQuery:r,totalNum:u}}})}),[t,e,r,y,O,h,R,u]),S=n(((a,i,n,o,s,c,T,g)=>{R({Typeahead:{selectEvent:{typeaheadId:I,searchSessionId:e,resultsId:l,uiOrigin:t,scope:String(O),page:h,beforeQuery:p,afterQuery:r,totalNum:u,value:c,errors:d?[d]:null,fromHistory:i,selDepth:n+1,placeType:T||null,dataType:s,selectionUrl:g||null,selectionMethod:a,selectedDocumentId:c,durationResultsShown:o?Date.now()-o:-1}}})}),[t,e,l,r,p,O,I,u,d,R,h]);return{logTypeaheadOpened:E,logResultSelection:n(((e,l,t,a,i)=>{S(e,l,a,i,t.trackingType,t.key,t.trackingPlaceType||null,t.url)}),[S]),logQuickLinkSelection:n(((e,l,t,a)=>{S(e,!0,-1,l,"QUICK_LINK",`QUICK_LINK_${t}`,t,a)}),[S]),logSearchAction:n((a=>{R({Typeahead:{searchEvent:{typeaheadId:I,searchSessionId:e,resultsId:l,uiOrigin:t,scope:String(O),page:h,beforeQuery:p,afterQuery:r,totalNum:u,errors:d?[d]:null,durationResultsShown:a?Date.now()-a:-1}}})}),[t,e,l,r,p,O,I,u,d,h,R]),startQuery:p,typeaheadId:I}},v={__key:0xc9d791589f93,id:"c9d791589f937ec371723f236edc7c6b",loc:{},definitions:[]},k=(e,l,t)=>{var a=null!=t.latitude&&null!=t.longitude,i={q:e,searchSessionId:l,searchNearby:a?"true":"",latitude:null!=t.latitude?String(t.latitude):"",longitude:null!=t.longitude?String(t.longitude):"",geo:a?"":String(t.geoId)};return`/Search?${new URLSearchParams(i).toString()}`},U=["ACCOMMODATION","EATERY","ATTRACTION","CAR_RENTAL_OFFICE"],D=(e,l,t)=>{var a=[];if(!e||!e.Typeahead_autocomplete||!e.Typeahead_autocomplete.results)return{results:a,resultsId:""};var{results:i,resultsId:n}=e.Typeahead_autocomplete,r=i.reduce(((e,l)=>{if(null!=l&&null!=l.details&&null!=l.details.placeType&&null!=l.details.localizedName&&null!=l.details.locationV2&&null!=l.details.locationV2.names&&null!=l.details.locationV2.names.longOnlyHierarchyTypeaheadV2&&null!=l.locationId){var{locationId:t}=l,{localizedName:a,placeType:i}=l.details,n=l.details.locationV2.names.longOnlyHierarchyTypeaheadV2;if(null!=n){var r=a+n+i;if(!Object.keys(e).includes(r)){var o={};o[r]=[],Object.assign(e,o)}e[r].push(t)}}return e}),{}),o=Object.values(r).filter((e=>Array.isArray(e)&&e.length>1)).flatMap((e=>e)),s=e=>{if(null!=e.locationId&&null!=e.details&&null!=e.details.locationV2&&null!=e.details.locationV2.names){var l=null!=e.details.placeType&&U.includes(e.details.placeType)&&null!=e.details.streetAddress&&null!=e.details.streetAddress.street1&&o.includes(e.locationId)?e.details.streetAddress.street1:null,t=e.details.locationV2.names.longOnlyHierarchyTypeaheadV2;if(null!=t)return null==l?t:`${l}, ${t}`}return null};return i.forEach((e=>{var i,n;if(null!=e){var r=((e,l)=>{return e.linkType&&l.details?"VACATION_RENTALS"===e.linkType&&l.details.locationV2?null==(t=l.details.locationV2.vacationRentalsRoute)?void 0:t.url:!0===l.details.isGeo?l.details[`${e.linkType}_URL`]:null:null;var t})(t,e);switch(e.__typename){case"Typeahead_LocationItem":if(null!=e.locationId&&e.details&&null!=e.details.localizedName&&null!=e.details.url){var o,u,d=!e.details.isGeo,c=null!==e.highlightingInfo&&null!=e.highlightingInfo[0]?[e.highlightingInfo[0].length,e.highlightingInfo[0].offset]:null;a.push({searchText:e.details.localizedName,title:e.details.localizedName,highlightingInfo:c,url:null!=r?r:e.details.url,image:d?null==(o=e.details.thumbnail)?void 0:o.photoSizeDynamic:null,key:`LOCATION_${e.documentId}`,subtitle:s(e),trackingType:"LOCATION",trackingPlaceType:null==(u=e.details)?void 0:u.placeType,locationId:e.locationId})}break;case"Typeahead_UserProfileItem":if(null!=(null==(i=e.details)?void 0:i.username)&&null!=e.details.displayName&&null!=(null==(n=e.details.route)?void 0:n.url)){var I,g=e.details.displayName;!0===e.details.isVerified&&(g=E(S,{children:[g," ",O(h,{size:16,color:"verifiedCheckMarkIcon"})]}));var y,m=`@${e.details.username}`;null!=e.details.followerCount&&(y=!0===e.details.isFollowing?O(T,{id:"social_nowFollowing"}):O(T,{id:"social_nCount_followers2",args:{0:e.details.followerCount}}),m=O(T,{id:"m2_trips_detail_date_display",args:{0:m,1:y}})),a.push({searchText:e.details.displayName,title:g,subtitle:m,url:e.details.route.url,icon:p,image:null==(I=e.details.avatar)?void 0:I.photoSizeDynamic,imageVariant:"avatar",trackingType:"USER_PROFILE",key:`USER_${e.documentId}`})}break;case"Typeahead_QuerySuggestionItem":if(null!=e.text){var _,f,N=null==(_=e.parentGeoDetails)||null==(f=_.names)?void 0:f.longOnlyHierarchyTypeaheadV2,L=null!==e.highlightingInfo&&null!=e.highlightingInfo[0]?[e.highlightingInfo[0].length,e.highlightingInfo[0].offset]:null;a.push({searchText:e.text,title:e.text,highlightingInfo:L,subtitle:N,image:null,url:e.route&&e.route.url||k(e.text,l,t),icon:null!=e.buCategory&&A.get(e.buCategory)||R,trackingType:"QUERY_SUGGESTION",key:e.documentId})}break;case"Typeahead_RescueResultItem":null!=e.text&&a.push({searchText:e.text,title:O(T,{id:"see_all_results_for",args:{query:e.text}}),url:k(e.text,l,t),icon:R,trackingType:"SEARCH",key:`SEARCH_${e.documentId}`});break;case"Typeahead_ListResultItem":if(null!=e.locationId&&null!=e.documentId&&null!=e.listResultType&&null!=e.details&&null!=e.details.localizedName){var C,v,U,D,b,{listResultType:G}=e;if("/ShowForum"===(b="FORUM"===G?e[`${G}ListURL`]?e[`${G}ListURL`].url:"":e.details[`${G}ListURL`]||"")||""===b)break;var H=(()=>{switch(G){case"HOTEL":return O(T,{id:"common_Hotels"});case"RESTAURANT":return O(T,{id:"common_Restaurants"});case"ATTRACTION":return O(T,{id:"common_Thingstodo"});case"FORUM":return O(T,{id:"common_Forums"});default:return""}})();a.push({searchText:(null==(C=e.details)?void 0:C.localizedName)||"",title:O(T,{id:"m2_trips_detail_date_display",args:{0:H,1:(null==(v=e.details)?void 0:v.localizedName)||""}}),subtitle:s(e),url:b,icon:R,image:null==(U=e.details)||null==(D=U.thumbnail)?void 0:D.photoSizeDynamic,trackingType:"LIST_RESULT",locationId:e.locationId,key:`LIST_RESULT_${G}_${e.documentId}`})}}}})),{results:a,resultsId:null==n?"unknown":n}},b={results:[],resultsId:""},G={batch:!1},H=["default","love_your_local","insurance_lander"],V=["typeahead-q"],w=(e,l,n,c,T=10,h)=>{var[I,g]=i(b),p=m(),{logTypeaheadOpened:y,logResultSelection:R,logQuickLinkSelection:O,logSearchAction:E,typeaheadId:S}=_(p,I.resultsId,l,e,n,I.results.length),A=((e,l)=>{var[a,n]=i(e),o=t(Date.now());return r((()=>{var l=Date.now(),t=100-(l-o.current);if(t<=0)return o.current=l,void n(e);var a=setTimeout((()=>{o.current=Date.now(),n(e)}),t);return()=>clearTimeout(a)}),[e,100]),a})(e),{userId:N}=a(s),{locale:L}=a(u),[,{uid:C}]=a(o),k=null!=n.latitude&&null!=n.longitude?{latitude:n.latitude,longitude:n.longitude}:null,U=null!=n.geoId?n.geoId:0,D="WORLDWIDE";U>1&&"LocationTypeahead"!==c?D="IN_GEO_EXTEND_WORLDWIDE":U>1&&"LocationTypeahead"===c?D="IN_GEO":null!=k&&(D="NEAR_POSITION");var w=n.pageType,x={listResultType:w,searchSessionId:p,typeaheadId:S,uiOrigin:l,routeUid:C},P=["LOCATION","QUERY_SUGGESTION","USER_PROFILE","RESCUE_RESULT",...null!=w?["LIST_RESULT"]:[]],F={query:A,limit:T,scope:D,locale:L.code,scopeGeoId:U,searchCenter:k,types:P,locationTypes:["GEO","AIRPORT","ACCOMMODATION","ATTRACTION","ATTRACTION_PRODUCT","EATERY","NEIGHBORHOOD","AIRLINE","SHOPPING","UNIVERSITY","GENERAL_HOSPITAL","PORT","FERRY","CORPORATION","VACATION_RENTAL","SHIP","CRUISE_LINE","CAR_RENTAL_OFFICE"],userId:N,context:x,articleCategories:H,enabledFeatures:V};"GeoPicker"===c?(F.types=["LOCATION","RESCUE_RESULT"],F.locationTypes=["GEO","NEIGHBORHOOD"]):"LinkTypeSearch"===c&&"RESTAURANTS"===n.linkType?(F.types=["LOCATION","RESCUE_RESULT"],F.locationTypes=["GEO","EATERY"]):"LinkTypeSearch"===c&&"HOTELS"===n.linkType?(F.types=["LOCATION","RESCUE_RESULT"],F.locationTypes=["GEO","ACCOMMODATION"]):"LinkTypeSearch"===c&&"ATTRACTIONS"===n.linkType?(F.types=["LOCATION","RESCUE_RESULT"],F.locationTypes=["GEO","ATTRACTION","ATTRACTION_PRODUCT","NEIGHBORHOOD"]):"LocationTypeahead"===c&&(F.types=["LOCATION"],h&&(F.locationTypes=h));var[{data:$,error:Q},M]=d({query:v,variables:{request:F},context:G,pause:!0}),z=t(M);return r((()=>{z.current=M})),r((()=>{if(!Q){var e=f($,p,n);g(e)}}),[$,Q,p,n]),r((()=>{(e=>e&&e.length>=1)(A)?z.current():g(b)}),[A]),{results:I,logTypeaheadOpened:y,logResultSelection:R,logQuickLinkSelection:O,logSearchAction:E,searchSessionId:p}};return[()=>{m=L,_=C,A=new Map([["SEARCH",R],["ATTRACTIONS",I],["HOTELS",g],["RESTAURANTS",y]]),f=D,e({MIN_QUERY_LENGTH:1,default:w})},[e=>(t=e.useRef,a=e.useContext,i=e.useState,n=e.useCallback,r=e.useEffect),e=>(o=e.Route,s=e.Visitor,u=e.Environment),e=>d=e.useQuery,e=>c=e.useInteractionLogger,e=>T=e.default,e=>h=e.default,e=>I=e.default,e=>g=e.default,e=>p=e.default,e=>y=e.default,e=>R=e.default,e=>(O=e.jsx,E=e.jsxs,S=e.Fragment)]]},["cDcdfi","2R4xv2","5X2em-","fsml46","0DsHEV","PC6zgt","2G8iY6","YCW2WX","3gj0sT","X3dUVA","zeV7p9","F5FCuN"]]);
