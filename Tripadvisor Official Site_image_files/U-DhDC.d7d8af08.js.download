(this.$WP=this.$WP||[]).push(["U-DhDC",(e,s)=>{"use strict";var t,i,o,r,n,a,c,l,d,u,v,p,C={tripId:0},S={__key:0xa83a4bcee22c,id:"a83a4bcee22c4b5195e55911b4ff5e57",loc:{},definitions:[]},w={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},m=e=>e&&w[e]?w[e].toUpperCase():void 0,h=e=>e&&(m(e)||m(e.replace(/^Mobile/,""))),k=({source:e,pageAsContext:s,saveObject:n,trackingContext:a,withSaveSession:c,withOrganizeSession:d})=>{var[{page:p}]=t.useContext(o),{sessionUuid:C,sessionOrder:w,incrementOrder:m}=t.useContext(l),{sessionUuid:k,sessionOrder:R,incrementOrder:f}=t.useContext(u),x=t.useContext(r).impressionId||"",O=a||s&&p||void 0,{id:U,type:g}=n||{},{tripId:H}=t.useContext(v),T=t.useMemo((()=>({detailId:U?`${U}`:void 0,saveType:g,tripId:H})),[U,g,H]),A=t.useMemo((()=>c?{sessionType:"SAVE",sessionUuid:C,sessionOrder:w}:d?{sessionType:"ORGANIZE",sessionUuid:k,sessionOrder:R}:null),[R,k,w,C,d,c]),[,L]=i(S);return[t.useCallback(((s,t)=>{var i;c?m():d&&f();var o=T;t&&(o={detailId:`${t.id}`,saveType:t.type});var r,n,a=window.location.pathname,l="Unknown"===O?(null==(i=a.match(/^\/([a-zA-Z0-9_]+)/))?void 0:i[1])||"Home":O,u={elementClick:s.elementClick&&{puid:x,...o,context:l,...A,...s.elementClick},filterClick:s.filterClick&&{puid:x,...s.filterClick},modalSuccess:s.modalSuccess&&{puid:x,...T,context:l,...A,...s.modalSuccess},overflowClick:s.overflowClick&&{puid:x,...s.overflowClick,...A},overflowSuccess:s.overflowSuccess&&{puid:x,...A,...T,...s.overflowSuccess},linkReferenceClick:s.linkReferenceClick&&{puid:x,...s.linkReferenceClick}};return L({interaction:{[e]:(r=u,n=r,["elementClick","modalSuccess"].forEach((e=>{n[e]&&n[e].context&&(n[e].context=h(n[e].context)||null),n[e]&&n[e].saveType&&(n[e].saveType=n[e].saveType.toUpperCase()),n[e]&&n[e].action&&(n[e].action=n[e].action.toUpperCase())})),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach((e=>{n[e]&&n[e].element&&(n[e].element=n[e].element.toUpperCase())})),["modalSuccess"].forEach((e=>{n[e]&&n[e].fields&&(n[e].fields=n[e].fields.map((e=>e.toUpperCase())))})),n)}})}),[c,d,x,T,O,A,L,e,m,f]),x]},R=({children:e,source:s,pageAsContext:t,saveObject:i,trackingContext:o,withSaveSession:r,withOrganizeSession:n})=>{var[a,c]=k({source:s,pageAsContext:t,saveObject:i,trackingContext:o,withSaveSession:r,withOrganizeSession:n});return e(a,c)},f=()=>{var[e,s]=t.useState({sessionUuid:n(),sessionOrder:0});return t.useMemo((()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>s((e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1}))),resetSession:()=>s({sessionUuid:n(),sessionOrder:0})})),[e])},x=({children:e})=>{var s=p();return a(l.Provider,{value:s,children:e})},O=({children:e})=>{var s=p();return a(u.Provider,{value:s,children:e})};return[()=>{c={sessionUuid:n(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},l=t.createContext(c),d={sessionUuid:n(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},u=t.createContext(d),v=t.createContext(C),R.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},p=f,e({LogInteractionMutation:S,OrganizeSessionProvider:O,OrganizeSessionTrackingContext:u,SaveSessionProvider:x,SaveSessionTrackingContext:l,SponsorshipTrackingContext:v,TripInteraction:R,getInteractionsContext:h,useTripInteraction:k})},[e=>t=e,e=>i=e.useMutation,e=>o=e.Route,e=>r=e.TripTrackingImpression,e=>n=e.uuid,e=>a=e.jsx]]},["cDcdfi","5X2em-","2R4xv2","c_rvp5","O-HcBE","F5FCuN"]]);
