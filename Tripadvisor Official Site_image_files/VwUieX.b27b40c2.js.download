(this.$WP=this.$WP||[]).push(["VwUieX",(e,t)=>{"use strict";var o,r,n,a,s,i,l,c,p,u,d,h,m,f,v,g,C,P,k,I,M,R,x,b,y,L,S,w,E,z,O,Z,A="ta-maps-google",W=(e,t=[],o={loading:!1})=>{var n=r.useRef(e);r.useEffect((()=>{n.current=e}),[e]);var a=r.useRef(!1);r.useEffect((()=>(a.current=!0,()=>{a.current=!1})),[]);var[s,i]=r.useState(o);return[s,r.useCallback(((...e)=>{i({loading:!0}),n.current(...e).then((e=>(a.current&&i({value:e,loading:!1}),e)),(e=>(a.current&&i({error:e,loading:!1}),e)))}),t)]},_=()=>g(r.useCallback((e=>(e=>{if("mock"===e.forceMapProvider){var t={mapProvider:"mock",mapConfig:{lang:"en",channel:"ta.maps.mock"}};return new Promise((e=>e({json:()=>new Promise((e=>e(t)))})))}return fetch(`/data/1.0/maps/provider?${(e=>{var t={};return Object.keys(e).forEach((o=>{null!=e[o]&&(t[o]=e[o])})),new URLSearchParams(t)})({servletName:e.servletName,locale:e.locale,geoId:e.geoId,forceMapProvider:e.forceMapProvider}).toString()}`,{credentials:"same-origin"})})(e).then((e=>e.json()))),[])),N=()=>g(r.useCallback((e=>{var t=P[e];return t?t():Promise.reject(Error(`Unknown map provider ${e}`))}),[]),[]),$=()=>{var e=r.useRef(0),t=r.useRef(s()),o=r.useCallback(((o,r,n)=>{var a=new r;if(a.isLibraryLoaded())return new Promise((e=>e({loaded:!0,wasPreviouslyLoaded:!0})));var s=++e.current;return new Promise((r=>{a.loadLibrary(n,(()=>{if(t.current({module:"map_view",action:"load",context:o}),s!==e.current)throw new Error("Stale map provider request");r({loaded:!0,wasPreviouslyLoaded:!1})}))}))}),[]),n=g(o);return n[0].loading?[n[0],()=>{}]:n},D=(e,t,o)=>{var[n,a]=r.useState(null),[{value:s},l]=C(),[{value:c},p]=k(),[{loading:u,value:d},h]=I(),m=((e,t,o)=>{var n=r.useContext(i).locale.language;return r.useRef({servletName:o,locale:n,geoId:t,forceMapProvider:e}).current})(e,t,o),f=d&&d.loaded,v=s&&s.mapProvider,g=s&&s.mapConfig,P=c&&c.MapFactory;r.useLayoutEffect((()=>{l(m)}),[m,l]),r.useLayoutEffect((()=>{v&&p(v)}),[v,p]);var M=u||f;return r.useLayoutEffect((()=>{!M&&v&&g&&P&&h(v,P,{lang:m.locale,channel:"ta.maps",...g})}),[M,m,P,g,v,h]),r.useLayoutEffect((()=>{f&&v&&c&&!n&&a({MapInterfaceClass:c.MapInterface,mapProviderName:v})}),[v,c,n,f]),n},T=({forceMapProvider:e,mapInterfaceProps:t,containerRef:o,geoId:n,servlet:a,onMapInterfaceLoaded:s})=>{var c=r.useContext(i),p=r.useContext(l),u=r.useRef(s),d=r.useRef(o),h=r.useRef({...t,isRtl:c.locale.isRtl,locale:c.locale.language,userAgentCategory:p.userAgentCategory});u.current=s,d.current=o,h.current={...t,isRtl:c.locale.isRtl,locale:c.locale.language,userAgentCategory:p.userAgentCategory};var m=M(e,n,a),f=m?m.MapInterfaceClass:null,v=m?m.mapProviderName:null;return r.useLayoutEffect((()=>{if(f&&v){var e=new f(d.current,h.current);u.current(e,v)}}),[f,v]),null},B=e=>{var t=s();return c(m,{gaRecorder:t,...e})},U=e=>c(b,{children:({map:t})=>c(f,{...e,map:t})}),j=(e,t=0)=>{var o=r.useRef(null),n=r.useRef(e),a=r.useCallback((()=>{o.current&&clearTimeout(o.current),o.current=setTimeout((()=>{n.current()}),t)}),[t]),s=r.useCallback((()=>{o.current&&(clearTimeout(o.current),o.current=null)}),[]);return r.useEffect((()=>{n.current=e}),[e]),[a,s]},G=({zIndexOffset:e,position:t,children:o,onClick:n,onMouseEnter:a,onMouseLeave:i,disableTracking:l,trackingContext:p,className:h,draggable:m,onDrag:f})=>{var{map:v}=r.useContext(R),[g,C]=r.useState(null),[P,k]=r.useState(!1),I=s();r.useEffect((()=>{if(!v)return()=>{};var e=v.createMarkerContainer();return C(e),e.getContainer()?k(!0):e.setMarkerReadyCallback((()=>{k(!0)})),()=>{v.removeMarkerContainer(e)}}),[v]),r.useEffect((()=>{g&&g.setZIndexOffset(e)}),[g,e]),r.useEffect((()=>{g&&!t.equals(g.getPosition())&&g.setPosition(t)}),[g,t]),r.useEffect((()=>{g&&g.setDraggable(m)}),[g,m]),r.useEffect((()=>{g&&g.setDragCallback(f)}),[g,f]);var M=r.useCallback((e=>{e.stopPropagation(),l||I({module:"pin",action:"pin_click",context:p||""}),n&&n()}),[l,p,n,I]),x=r.useCallback((()=>{l||I({module:"pin",action:"pin_hover",context:p||""}),a&&a()}),[l,p,a,I]),[b,y]=z(x,300),L=r.useCallback((()=>{y(),i&&i()}),[i,y]),S=g&&g.getContainer();if(P&&S){var E=c("div",{className:d(h,{"wAJlS _S":!!n}),onClick:M,onTouchEnd:M,onMouseEnter:b,onMouseLeave:L,children:o});return c(w,{value:{position:t},children:u.createPortal(E,S)})}return null},q=e=>p(O,{position:e.position,zIndexOffset:e.zIndexOffset,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,trackingContext:e.trackingContext,draggable:e.draggable,onDrag:e.onDrag,children:[c(h,{style:{cursor:"pointer",width:`${e.width}px`,height:`${e.height}px`,position:"absolute",left:`-${e.anchor.x}px`,top:`-${e.anchor.y}px`,opacity:e.alpha,transition:e.animated?"width 0.3s, height 0.3s, left 0.3s, top 0.3s":null},src:e.src}),e.children]}),F={markerCalloutContainer:"eAKqJ d _Q X",topleft:"IgRSC",top:"fTlho",topright:"dDsjS",left:"OGocs",right:"fXpcN",bottomleft:"fMtax",bottom:"fXmPc",bottomright:"bdqbI",noInteraction:"fZWjB S"},H=()=>{},V=e=>{if(!e.visible)return null;var t=t=>c(b,{children:({map:o})=>o&&c(v,{direction:e.direction,offset:e.offset,position:t,autoPan:e.autoPan,map:o,zIndexOffset:e.zIndexOffset,disableInteraction:e.disableInteraction,isRtl:e.isRtl,children:e.children})});return e.position?t(e.position):c(E,{children:e=>t(e.position)})};return[()=>{g=W,C=_,P={[A]:()=>t("1lTcUI"),"ta-maps-autonavi":()=>t("q9bHm9"),mock:()=>t("RSaHg-")},k=N,I=$,M=D,x=(R=r.createContext({map:null,mapProvider:""})).Provider,b=R.Consumer,e("MapComponentTrackingWrapper$1",m=class extends r.PureComponent{constructor(...e){super(...e),this.state={mapInterface:null,mapProvider:null},this.onMapInterfaceLoaded=(e,t)=>{if(null===this.state.mapInterface){e.once("renderComplete",(()=>{this.props.onLoad&&this.componentMounted&&e&&this.props.onLoad({map:e})})),e.on("click",(e=>{this.props.onClick&&this.props.onClick(e)})),e.on("centerChange",(e=>{this.props.onCenterChange&&this.componentMounted&&this.props.onCenterChange(e)})),e.on("panStart",(e=>{this.props.gaRecorder({module:"map_move",action:"pan",context:e.zoom.toString(10)}),this.props.onPanStart&&this.props.onPanStart(e)})),e.on("renderComplete",(e=>{this.props.onRenderComplete&&this.props.onRenderComplete(e)}));var o=this.props.initialZoom;e.on("zoomChange",(e=>{this.props.gaRecorder({module:"map_move",action:e.zoom>o?"zoom_in":"zoom_out",context:e.zoom.toString(10)}),o=e.zoom,this.props.onZoomChange&&this.props.onZoomChange(e)})),this.props.initialBounds&&e.setBounds(this.props.initialBounds),this.setState({mapInterface:e,mapProvider:t})}},this.setContainerRef=e=>{this.containerRef||(this.containerRef=e,this.forceUpdate())},this.handleResize=()=>{this.state.mapInterface&&this.state.mapInterface.resize()},this.componentMounted=!1,this.containerRef=null}componentDidMount(){this.componentMounted=!0,this.props.gaRecorder({module:"map_view",action:"open",context:this.containerRef?`${this.containerRef.offsetWidth}`:"0"})}componentWillUnmount(){this.componentMounted=!1;var e=this.state.mapInterface;e&&e.unmount(),this.props.gaRecorder({module:"map_view",action:"close"})}render(){var{mapInterface:e,mapProvider:t}=this.state,{children:o}=this.props;return p("div",{className:"cqIuc w _Z",style:{touchAction:this.props.disableGestures?"auto":"none"},children:[c(a,{callback:this.handleResize}),this.containerRef&&c(n,{node:{current:this.containerRef},children:(e,t)=>(!this.props.lazy||t)&&!!this.containerRef&&c(T,{mapInterfaceProps:{zoom:this.props.initialZoom,center:this.props.initialCenter,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,onLoad:this.props.onLoad,scrollWheelZoom:this.props.scrollWheelZoom,disableGestures:this.props.disableGestures,styles:this.props.styles,mapId:this.props.mapId},containerRef:this.containerRef,onMapInterfaceLoaded:this.onMapInterfaceLoaded,forceMapProvider:this.props.forceMapProvider,servlet:this.props.servlet,geoId:this.props.geoId})}),c("div",{className:"map_container eVedh w _Z Z0 o",ref:this.setContainerRef}),c(x,{value:{map:e,mapProvider:t||""},children:o})]})}}),m.defaultProps={initialCenter:new o(0,0),initialZoom:13,initialBounds:null,minZoom:2,maxZoom:19,scrollWheelZoom:!0,disableGestures:!1,lazy:!0,children:[],onLoad:null,onClick:null,onPanStart:null,onCenterChange:null,onZoomChange:null,onRenderComplete:null},y=B,f=class extends r.PureComponent{constructor(...e){super(...e),this.state={circleOverlay:null}}componentDidMount(){this.handleProps(this.props)}componentDidUpdate(){this.handleProps(this.props)}componentWillUnmount(){var{map:e}=this.props,{circleOverlay:t}=this.state;e&&t&&(e.removeCircleOverlay(t),this.setState({circleOverlay:null}))}handleProps(e){var{circleOverlay:t}=this.state,{map:o}=e;o&&(t||(t=o.addCircleOverlay(this.props),this.setState({circleOverlay:t})),t.setPosition(e.position),t.setRadius(e.radius),t.setFillColor(e.fillColor),t.setStrokeColor(e.strokeColor),t.setStrokeWidth(e.strokeWidth),t.setOpacity(e.opacity))}render(){return null}},L=U,w=(S=r.createContext({position:null})).Provider,E=S.Consumer,z=j,G.defaultProps={zIndexOffset:0,children:null,onClick:void 0,onMouseEnter:void 0,onMouseLeave:void 0,disableTracking:!1,trackingContext:void 0,className:void 0,draggable:!1},O=G,q.defaultProps={zIndexOffset:0,draggable:!1,animated:!1,children:null,onMouseEnter:null,onMouseLeave:null,onClick:null,alpha:1,trackingContext:null},Z=r.memo(q),v=class extends r.PureComponent{constructor(...e){super(...e),this.hasAutoPanned=!1,this.checkAutoPan=e=>{if(e&&this.props.autoPan&&!this.hasAutoPanned){this.hasAutoPanned=!0;var t=e.offsetWidth,o=e.offsetHeight;this.props.map.panIntoView(this.props.position,((e,t,o,r)=>{var n={left:t/2,right:t/2,top:o/2,bottom:o/2};return e.includes("left")&&(r?(n.left=0,n.right=t):(n.left=t,n.right=0)),e.includes("right")&&(r?(n.left=t,n.right=0):(n.left=0,n.right=t)),e.includes("top")&&(n.top=o,n.bottom=0),e.includes("bottom")&&(n.top=0,n.bottom=o),n})(this.props.direction,t,o,this.props.isRtl))}}}render(){var{direction:e,position:t,zIndexOffset:o,offset:r,children:n,disableInteraction:a,isRtl:s}=this.props,i=F[e],l={marginTop:r.y};return l[s?"marginRight":"marginLeft"]=r.x,c(O,{position:t,zIndexOffset:o,disableTracking:!0,children:c("div",{ref:this.checkAutoPan,className:`${F.markerCalloutContainer} ${a?F.noInteraction:""} ${i}`,style:l,onClick:H,onMouseEnter:H,onMouseLeave:H,children:n})})}},V.defaultProps={position:null,autoPan:!0,visible:!0,offset:{x:0,y:0},zIndexOffset:99999999,disableInteraction:!1,isRtl:!1},e({CircleOverlay:L,IconMarker:Z,MapComponent:y,MapContext:R,MapContextConsumer:b,MapContextProvider:x,MapProviderCitymaps:"ta-maps-citymaps",MapProviderGoogle:A,Marker:O,Popup:V})},[t=>{o=t.LatLng,e({LatLng:t.LatLng,LatLngBounds:t.LatLngBounds,Util:t.Util})},t=>e("MapInterface",t.MapInterface),e=>r=e,e=>n=e.HasBeenVisible,e=>a=e.default,e=>s=e.useGARecorder,e=>(i=e.Environment,l=e.Device),e=>(c=e.jsx,p=e.jsxs),e=>u=e.default,e=>d=e.default,e=>h=e.CdnImage]]},["A8AD3f","kI6OFW","cDcdfi","BLrxBS","w4JHTr","fsml46","2R4xv2","F5FCuN","faye7n","jSLlaY","4kVXmt"]]);
