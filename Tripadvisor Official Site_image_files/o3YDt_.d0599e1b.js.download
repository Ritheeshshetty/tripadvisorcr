(this.$WP=this.$WP||[]).push(["o3YDt_",(e,o)=>{"use strict";var n,r,t,a,u,l,d,i=null,h=null,c=()=>{h=null},s=(e,o)=>{var n=new URLSearchParams({phoneNumber:e,region:o});return fetch(`/data/1.0/vr/validatePhoneNumber?${n.toString()}`,{method:"GET",credentials:"same-origin"}).then((e=>e.json())).then((e=>e))},C="setData",g=(e,o)=>{var{type:n,value:r}=o;switch(n){case C:return{...e,data:r};default:return e}},p=e=>{var[{data:o},n]=t.useReducer(g,e);return[o,e=>{n({type:C,value:e})}]},v=(e=!1)=>{var[o,n]=t.useState(!1),[r,a]=t.useState(!1),[l,d]=u({data:[]}),s=e=>{n(!1),d(e.options||[])},C=()=>{n(!1),a(!0)};return t.useEffect((()=>()=>{e&&c()}),[e]),{data:l,fetching:o,error:r,clearCache:c,fetchCodes:()=>(n(!0),a(!1),new Promise(((e,o)=>e(h||i||(i=fetch("/data/1.0/vr/countryRegionCodesForPhone",{method:"GET",credentials:"same-origin"}).then((e=>e.json().then((e=>(i=null,h=e,e))).catch((e=>(console.error(e.message),o(e)))))))))).then(s).catch(C))}},m=(e,o)=>{var{data:n,fetchCodes:r,fetching:a,error:u}=l(o),d=e&&e.length?e:n.map((e=>{var o,n;return{regionISOCode:(null==e||null==(o=e.countryValue)?void 0:o.countryRegionCode)||"",regionPhoneCode:(null==e||null==(n=e.countryValue)?void 0:n.countryPhoneCode)||"",label:(null==e?void 0:e.countryCodeDropDownValue)||""}}));return t.useEffect((()=>{d.length||a||u||r()}),[u,a,d.length,r]),d},f=({value:e,onChange:o,onFocus:t=(()=>{}),onBlur:u=(()=>{}),options:l,hideAutoComplete:i,autoCompleteIdentifier:h,hasError:c,errorText:s})=>{var{phone:C="",countryISOCode:g}=e||{},{localize:p}=n(),v=d(l),m=v.map((({label:e,regionISOCode:o})=>({displayName:e,value:o}))),[f]=v.filter((e=>e.regionISOCode===g)),{regionISOCode:y,regionPhoneCode:P}=f||{};return a(r,{dropdownValue:P?`+${P}`:void 0,dropdownOptions:m,onDropdownChange:e=>{var[n]=v.filter((o=>o.regionISOCode===e)),{regionISOCode:r,regionPhoneCode:t}=n||{};o({phone:C,countryISOCode:r,countryPhoneCode:t})},dropdownPlaceholder:"+1",menuLabel:p.string("createlisting_phone_country_label"),name:"phone-number",value:C,onFocus:t,onBlur:u,onChange:e=>{o({countryISOCode:y,countryPhoneCode:P,phone:e.currentTarget.value})},placeholder:p.string("createlisting_phone_placeholder"),autoComplete:i?"off":h||"on",errorText:c?s:void 0})};return[()=>{u=p,l=v,e({PhoneInput:f,useCountryCodeValues:d=m,validatePhone:s})},[e=>n=e.useLocalize,e=>r=e.TextInput,e=>t=e,e=>a=e.jsx]]},["0DsHEV","7bbexq","cDcdfi","F5FCuN"]]);
