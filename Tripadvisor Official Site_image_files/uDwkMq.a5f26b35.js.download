(this.$WP=this.$WP||[]).push(["uDwkMq",(e,a)=>{"use strict";var r,i,l,t,u,n,o,s,d,c,m,h,v,p,_,f,g,N,b,C,k,T,y,x,S,P,I,D,E,O,R,q,L={firstName:{value:"",isRequired:!0},lastName:{value:"",isRequired:!0},phoneNumber:{value:"",isRequired:!0},email:{value:"",isRequired:!0},countryPhoneCode:{value:"+1",isRequired:!1},countryISOCode:{value:"US",isRequired:!1}},w=()=>r(L,E),V=({children:e})=>{var a=O();return h(q.Provider,{value:a,children:e})},F="fskyt F-",B=(e,a)=>{var{state:r,update:i}=s(q),l=r[e];m((()=>{l.isDirty||l.value===a||i(e,{value:a})}),[e,a,i])},A=({initialFirstName:e="",initialLastName:a="",initialEmail:r="",initialPhoneNumber:i="",checkoutType:l,onChangeCallback:t,isModal:u,allowEmailEdit:n=!1,freeTrialSubscription:o=!1,optimusCashbackSelected:m=!1,toggleCashbackRewardSMSOptIn:E,isCashbackRewardSMSOptIn:O=!1})=>{var{state:{firstName:R,lastName:L,phoneNumber:w,email:V,countryPhoneCode:A},update:M}=s(q),H=t?(e,a)=>{t(),M(e,a)}:M,{localize:U}=T(),[z,K]=d(R.value),[W,$]=d(L.value),[j,Y]=d(w.value),[G,J]=d(V.value),[Q,X]=d(A.value),Z=C(),ee=Z.map((({label:e,regionISOCode:a})=>({displayName:e,value:a}))),[,{uid:ae}]=s(f),{funnelKey:re}=s(g),ie=y(),le=x(),te=c((e=>{var a={formFieldChange:{funnelKey:re,pageviewUid:ae,formName:"TravelerDetails",fieldName:e.field}};switch(l){case"STANDALONE":le({OptimusStandaloneCheckout:a});break;case"HOTEL":le({OptimusHotelCheckout:a})}}),[l,re,le,ae]),ue=c((()=>{var t=[{fieldName:"firstName",isPrefilled:!!e},{fieldName:"lastName",isPrefilled:!!a},{fieldName:"email",isPrefilled:!!r},{fieldName:"phoneNumber",isPrefilled:!!i}],u=t.some((e=>e.isPrefilled));l&&ie({optimusCheckoutForm:{flow:l,funnelKey:re,pageviewUid:ae,formName:"TRAVELERDETAILS",isPrefilled:u,formFields:t}})}),[l,re,ie,e,a,r,i,ae]);B("firstName",e),B("lastName",a),B("email",r),B("phoneNumber",i);var ne=u?"supporting-03":"title-05";return h(p,{onIsVisibleCallback:ue,children:v("form",{children:[h(_,{variant:u?"title-04":"title-03",elementType:"h2",marginBottom:"spacing-04",children:h(k,{id:"plus_checkout_traveler_details_heading"})}),v(N,{space:"spacing-03",children:[v(b,{display:"flex",flexDirection:["column","column","row"],alignItems:"stretch",children:[h("div",{className:F,children:h(I,{id:"tdf-first",label:h(_,{variant:ne,children:h(S,{children:h(k,{id:"plus_checkout_first_name_field"})})}),type:"text",value:R.value,onChange:e=>H("firstName",{value:e.currentTarget.value}),errorText:R.isError?U.string("plus_checkout_error_state_first_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==z&&(te({field:"FirstName"}),K(e.currentTarget.value)),M("firstName",{isDirty:!0})}})}),h(b,{marginTop:"spacing-03",marginLeft:"spacing-03"}),h("div",{className:F,children:h(I,{id:"tdf-last",label:h(_,{variant:ne,children:h(S,{children:h(k,{id:"plus_checkout_last_name_field"})})}),type:"text",value:L.value,onChange:e=>H("lastName",{value:e.currentTarget.value}),errorText:L.isError?U.string("plus_checkout_error_state_last_name_v2"):void 0,onBlur:e=>{e.currentTarget.value!==W&&(te({field:"LastName"}),$(e.currentTarget.value)),M("lastName",{isDirty:!0})}})})]}),v(N,{space:"spacing-01",children:[h(I,{id:"tdf-phone",label:h(_,{variant:ne,children:h(S,{children:h(k,{id:"plus_checkout_phone_number_field"})})}),type:"tel",value:w.value,onChange:e=>H("phoneNumber",{value:e.currentTarget.value}),errorText:w.isError?U.string("plus_checkout_error_state_phone_number"):void 0,onBlur:e=>{e.currentTarget.value!==j&&(te({field:"PhoneNumber"}),Y(e.currentTarget.value)),M("phoneNumber",{isDirty:!0})},menuLabel:U.string("createlisting_phone_country_label"),dropdownValue:Q,dropdownPlaceholder:Q,dropdownOptions:ee,onDropdownChange:e=>{var[a]=Z.filter((a=>a.regionISOCode===e)),{regionISOCode:r,regionPhoneCode:i}=a||{},l=`+${i}`;X(l),H("countryPhoneCode",{value:l}),H("countryISOCode",{value:r})}}),m&&h(D,{value:"cashbackRewardSMSOptIn",checked:O,label:h(_,{variant:"supporting-01",color:"secondaryText",children:h(k,{id:"optimus.checkout.vf_sms_opt_in_checkbox"})}),onToggle:E})]}),h(P,{children:h(I,{id:"tdf-email",label:h(_,{variant:ne,children:n?h(S,{children:h(k,{id:"plus_checkout_email_field"})}):h(k,{id:"plus_checkout_email_field"})}),type:"email",value:V.value,onChange:e=>H("email",{value:e.currentTarget.value}),errorText:V.isError?U.string("plus_checkout_error_state_email"):void 0,onBlur:e=>{e.currentTarget.value!==G&&(te({field:"Email"}),J(e.currentTarget.value)),M("email",{isDirty:!0})},helperText:(()=>{var e;if(null!=(e=V.value)&&e.length)return"HOTEL"===l?U.string("plus_checkout_hotel_email_disclaimer_text",{email:V.value}):o?U.string("plus_free_trial_checkout_membership_email_disclaimer_text",{email:V.value}):U.string("plus_checkout_subscription_email_disclaimer_text",{email:V.value})})(),readOnly:!n})})]})]})})};return[()=>{E={firstName:l,lastName:l,phoneNumber:t,email:u,countryPhoneCode:n,countryISOCode:n},O=w,R={state:{firstName:i.required,lastName:i.required,phoneNumber:i.required,email:i.required,countryPhoneCode:i.notRequired,countryISOCode:i.notRequired},update:()=>{},validate:()=>!1,setHasError:()=>{},resetAll:()=>{}},e({TravelerDetails:q=o(R),TravelerDetailsProvider:V,default:A})},[e=>(r=e.default,i=e.defaults),e=>(l=e.nameValidator,t=e.phoneValidator,u=e.emailValidator,n=e.emptyValidator),e=>(o=e.createContext,s=e.useContext,d=e.useState,c=e.useCallback,m=e.useEffect),e=>(h=e.jsx,v=e.jsxs),e=>p=e.IsVisibleOnce,e=>_=e.default,e=>f=e.Route,e=>g=e.FunnelTracking,e=>(N=e.Stack,b=e.Box),e=>C=e.useCountryCodeValues,e=>(k=e.default,T=e.useLocalize),e=>y=e.useImpressionLogger,e=>x=e.useInteractionLogger,e=>(S=e.RequiredLabel,P=e.SensitiveInformationBlocker),e=>I=e.TextInput,e=>D=e.Checkbox]]},["8fiGCU","ivxRiU","cDcdfi","F5FCuN","BLrxBS","VP50Wc","2R4xv2","ETqDaL","SzaY02","o3YDt_","0DsHEV","30t50h","fsml46","AFIA6D","7bbexq","MsxLpS"]]);
